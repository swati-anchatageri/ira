{"ast":null,"code":"import _objectSpread from \"/home/oc-admin/ffff/chec/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/oc-admin/ffff/chec/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/oc-admin/ffff/chec/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/oc-admin/ffff/chec/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/oc-admin/ffff/chec/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/oc-admin/ffff/chec/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/oc-admin/ffff/chec/src/components/common/stats-cards/LargeStats.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DataCard from \"./DataCard\";\nimport { Button, Card, CardHeader, CardBody, CardFooter, Col, FormSelect, Row } from \"shards-react\"; //Charts\n\nimport Chart from \"../../../utils/charts/chartPicker\";\nimport RangeDatePicker from \"../RangeDatePicker\"; //Wrapper for a small or large data card on the dashboard.\n//\tHandles loading/fetching data & displays the appropriate graph afterwards\n//\n//\tLarge (line, pie) or small (line - simplified) data presentation card available\n//\tConfigurable with a drop down in the footer, or a date range selector below the title\n\nvar LargeStats = /*#__PURE__*/function (_DataCard) {\n  _inherits(LargeStats, _DataCard);\n\n  function LargeStats(props) {\n    var _this;\n\n    _classCallCheck(this, LargeStats);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LargeStats).call(this, props));\n    _this.state = _objectSpread({}, _this.state, {\n      cardSize: \"large\"\n    });\n    return _this;\n  }\n\n  _createClass(LargeStats, [{\n    key: \"drawGraph\",\n    value: function drawGraph() {\n      var pieHeight = 250 - (this.props.footerConfig ? 30 : 0) - (this.props.bodyConfig ? 30 : 0);\n      var ChartStuff = {\n        type: this.props.chartType,\n        height: this.props.chartType === \"pie\" ? pieHeight : 120,\n        data: this.props.chartData,\n        cutoutPercentage: this.props.cutoutPct\n      };\n      return Chart(ChartStuff);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      /****************\n      /* PREPARATION\n      /****************/\n      var cardStyle = this.state.error ? {\n        backgroundColor: \"#F0F0F0\"\n      } : {};\n      var bodyClasses = this.props.bodyConfig ? \"pt-0\" : \"d-flex py-0\";\n      var bodyConfig = /*#__PURE__*/React.createElement(Row, {\n        className: \"border-bottom py-2 bg-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        className: \"d-flex mb-2 mb-sm-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(RangeDatePicker, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: \"sm\",\n        className: \"d-flex btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }\n      }, \"View Full Report \\u2192\")));\n      var footerConfig = /*#__PURE__*/React.createElement(CardFooter, {\n        className: \"border-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(FormSelect, {\n        size: \"sm\",\n        value: this.state.timeframe,\n        style: {\n          maxWidth: \"130px\"\n        },\n        onChange: function onChange(event) {\n          _this2.setState(_objectSpread({}, _this2.state, {\n            timeframe: event.target.value\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }, this.props.configOptions.map(function (e, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: e[0],\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 48\n          }\n        }, e[1]);\n      }))), /*#__PURE__*/React.createElement(Col, {\n        className: \"text-right view-report\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }\n      }, \"View full report \\u2192\")))); //const bodyConfig = this.props.bodyConfig ? bodyConfig_component : \"\";\n      //const footerConfig = ( ? footerConfig_component : \"\");\n\n      /****************\n      /* RENDER\n      /****************/\n\n      return /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"h-100\",\n        style: cardStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }\n      }, this.props.title)), /*#__PURE__*/React.createElement(CardBody, {\n        className: bodyClasses,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 5\n        }\n      }, this.props.bodyConfig && bodyConfig, this.loaded(this.drawGraph()), this.loaded(this.loadingSpinner(), false)), this.props.footerConfig && footerConfig);\n    }\n  }]);\n\n  return LargeStats;\n}(DataCard);\n\nLargeStats.propTypes = {\n  title: PropTypes.string,\n  bodyConfig: PropTypes.bool,\n  footerConfig: PropTypes.bool,\n  chartData: PropTypes.object,\n  configOptions: PropTypes.array,\n  cutoutPct: PropTypes.number\n};\nLargeStats.defaultProps = {\n  title: \"Chart Title\",\n  bodyConfig: false,\n  footerConfig: false,\n  chartData: {},\n  configOptions: [[\"last-week\", \"Last Week\"], [\"today\", \"Today\"], [\"last-week\", \"Last Month\"], [\"last-year\", \"Last Year\"]],\n  cutoutPct: 0\n};\nexport default LargeStats;","map":{"version":3,"names":["React","PropTypes","DataCard","Button","Card","CardHeader","CardBody","CardFooter","Col","FormSelect","Row","Chart","RangeDatePicker","LargeStats","props","state","cardSize","pieHeight","footerConfig","bodyConfig","ChartStuff","type","chartType","height","data","chartData","cutoutPercentage","cutoutPct","cardStyle","error","backgroundColor","bodyClasses","timeframe","maxWidth","event","setState","target","value","configOptions","map","e","i","title","loaded","drawGraph","loadingSpinner","propTypes","string","bool","object","array","number","defaultProps"],"sources":["/home/oc-admin/ffff/chec/src/components/common/stats-cards/LargeStats.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DataCard from \"./DataCard\";\n\nimport {\n\tButton,\n\tCard,\n\tCardHeader,\n\tCardBody,\n\tCardFooter,\n\tCol,\n\tFormSelect,\n\tRow,\n} from \"shards-react\";\n\n//Charts\nimport Chart from \"../../../utils/charts/chartPicker\"\n\n\nimport RangeDatePicker from \"../RangeDatePicker\";\n\n//Wrapper for a small or large data card on the dashboard.\n//\tHandles loading/fetching data & displays the appropriate graph afterwards\n//\n//\tLarge (line, pie) or small (line - simplified) data presentation card available\n//\tConfigurable with a drop down in the footer, or a date range selector below the title\nclass LargeStats extends DataCard {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {...this.state, cardSize: \"large\"}\n\t}\n\t\n\tdrawGraph(){\n\t\tconst pieHeight = 250 - (this.props.footerConfig ? 30 : 0) - (this.props.bodyConfig ? 30 : 0);\n\t\t\n\t\tlet ChartStuff = {\n\t\t\ttype: this.props.chartType,\n\t\t\theight: (this.props.chartType === \"pie\" ? pieHeight : 120),\n\t\t\tdata: this.props.chartData,\n\t\t\tcutoutPercentage: this.props.cutoutPct\n\t\t};\n\n\t\treturn Chart(ChartStuff);\n\t}\n\n\t\n\trender() {\n\t\t/****************\n\t\t/* PREPARATION\n\t\t/****************/\n\t\tconst cardStyle = this.state.error ? {backgroundColor: \"#F0F0F0\"} : {};\n\t\tconst bodyClasses = this.props.bodyConfig ? \"pt-0\" : \"d-flex py-0\";\n\n\t\t\n\t\tconst bodyConfig = (\n\t\t\t<Row className=\"border-bottom py-2 bg-light\">\n\t\t\t\t<Col sm=\"6\" className=\"d-flex mb-2 mb-sm-0\">\n\t\t\t\t\t<RangeDatePicker />\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<Button\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tclassName=\"d-flex btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0\"\n\t\t\t\t\t>\n\t\t\t\t\tView Full Report &rarr;\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t\t\n\t\tconst footerConfig = (\n\t\t\t<CardFooter className=\"border-top\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<FormSelect\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={this.state.timeframe}\n\t\t\t\t\t\t\tstyle={{ maxWidth: \"130px\" }}\n\t\t\t\t\t\t\tonChange={(event) => {this.setState({...this.state, timeframe: event.target.value})}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t  {this.props.configOptions.map((e,i)=> <option key={i} value={e[0]}>{e[1]}</option>)}\n\t\t\t\t\t\t</FormSelect>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col className=\"text-right view-report\">\n\t\t\t\t\t\t{/* eslint-disable-next-line */}\n\t\t\t\t\t\t<a href=\"#\">View full report &rarr;</a>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</CardFooter>\n\t\t);\n\t\t\n\t\t//const bodyConfig = this.props.bodyConfig ? bodyConfig_component : \"\";\n\t\t//const footerConfig = ( ? footerConfig_component : \"\");\n\n\t\t/****************\n\t\t/* RENDER\n\t\t/****************/\n\t\treturn (\n\t\t\t<Card small className=\"h-100\" style={cardStyle}>\n\t\t\t\t{/* header for title */}\n\t\t\t\t<CardHeader className=\"border-bottom\">\n\t\t\t\t\t<h6 className=\"m-0\">{this.props.title}</h6>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardBody className={bodyClasses}>\n\t\t\t\t\t{/*row for datepicker and link*/}\n\t\t\t\t\t{this.props.bodyConfig && bodyConfig}\n\t\t\t\t\t{this.loaded(this.drawGraph())}\n\t\t\t\t\t{this.loaded(this.loadingSpinner(),false)}\n\t\t\t\t</CardBody>\n\t\t\t\t{/*footer for timeframe option selection*/}\n\t\t\t\t{this.props.footerConfig && footerConfig}\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nLargeStats.propTypes = {\n\ttitle: PropTypes.string,\n\tbodyConfig: PropTypes.bool,\n\tfooterConfig: PropTypes.bool,\n\tchartData: PropTypes.object,\n\tconfigOptions: PropTypes.array,\n\tcutoutPct: PropTypes.number\n};\n\n\nLargeStats.defaultProps = {\n\ttitle: \"Chart Title\",\n\tbodyConfig: false,\n\tfooterConfig: false,\n\tchartData: {},\n\tconfigOptions: [\n\t  [\"last-week\", \"Last Week\"],\n\t  [\"today\", \"Today\"],\n\t  [\"last-week\", \"Last Month\"],\n\t  [\"last-year\", \"Last Year\"]\n\t],\n\tcutoutPct: 0,\n};\n\n\nexport default LargeStats;"],"mappings":"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"},"metadata":{},"sourceType":"module"}